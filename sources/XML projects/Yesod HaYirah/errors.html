
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="robots" content="NONE,NOARCHIVE">
  <title>KeyError at /api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets</title>
  <style type="text/css">
    html * { padding:0; margin:0; }
    body * { padding:10px 20px; }
    body * * { padding:0; }
    body { font:small sans-serif; }
    body>div { border-bottom:1px solid #ddd; }
    h1 { font-weight:normal; }
    h2 { margin-bottom:.8em; }
    h2 span { font-size:80%; color:#666; font-weight:normal; }
    h3 { margin:1em 0 .5em 0; }
    h4 { margin:0 0 .5em 0; font-weight: normal; }
    code, pre { font-size: 100%; white-space: pre-wrap; }
    table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
    tbody td, tbody th { vertical-align:top; padding:2px 3px; }
    thead th { padding:1px 6px 1px 3px; background:#fefefe; text-align:left; font-weight:normal; font-size:11px; border:1px solid #ddd; }
    tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
    table.vars { margin:5px 0 2px 40px; }
    table.vars td, table.req td { font-family:monospace; }
    table td.code { width:100%; }
    table td.code pre { overflow:hidden; }
    table.source th { color:#666; }
    table.source td { font-family:monospace; white-space:pre; border-bottom:1px solid #eee; }
    ul.traceback { list-style-type:none; color: #222; }
    ul.traceback li.frame { padding-bottom:1em; color:#666; }
    ul.traceback li.user { background-color:#e0e0e0; color:#000 }
    div.context { padding:10px 0; overflow:hidden; }
    div.context ol { padding-left:30px; margin:0 10px; list-style-position: inside; }
    div.context ol li { font-family:monospace; white-space:pre; color:#777; cursor:pointer; }
    div.context ol li pre { display:inline; }
    div.context ol.context-line li { color:#505050; background-color:#dfdfdf; }
    div.context ol.context-line li span { position:absolute; right:32px; }
    .user div.context ol.context-line li { background-color:#bbb; color:#000; }
    .user div.context ol li { color:#666; }
    div.commands { margin-left: 40px; }
    div.commands a { color:#555; text-decoration:none; }
    .user div.commands a { color: black; }
    #summary { background: #ffc; }
    #summary h2 { font-weight: normal; color: #666; }
    #explanation { background:#eee; }
    #template, #template-not-exist { background:#f6f6f6; }
    #template-not-exist ul { margin: 0 0 0 20px; }
    #unicode-hint { background:#eee; }
    #traceback { background:#eee; }
    #requestinfo { background:#f6f6f6; padding-left:120px; }
    #summary table { border:none; background:transparent; }
    #requestinfo h2, #requestinfo h3 { position:relative; margin-left:-100px; }
    #requestinfo h3 { margin-bottom:-1em; }
    .error { background: #ffc; }
    .specific { color:#cc3300; font-weight:bold; }
    h2 span.commands { font-size:.7em;}
    span.commands a:link {color:#5E5694;}
    pre.exception_value { font-family: sans-serif; color: #666; font-size: 1.5em; margin: 10px 0 10px 0; }
  </style>
  
  <script type="text/javascript">
  //<!--
    function getElementsByClassName(oElm, strTagName, strClassName){
        // Written by Jonathan Snook, http://www.snook.ca/jon; Add-ons by Robert Nyman, http://www.robertnyman.com
        var arrElements = (strTagName == "*" && document.all)? document.all :
        oElm.getElementsByTagName(strTagName);
        var arrReturnElements = new Array();
        strClassName = strClassName.replace(/\-/g, "\-");
        var oRegExp = new RegExp("(^|\s)" + strClassName + "(\s|$)");
        var oElement;
        for(var i=0; i<arrElements.length; i++){
            oElement = arrElements[i];
            if(oRegExp.test(oElement.className)){
                arrReturnElements.push(oElement);
            }
        }
        return (arrReturnElements)
    }
    function hideAll(elems) {
      for (var e = 0; e < elems.length; e++) {
        elems[e].style.display = 'none';
      }
    }
    window.onload = function() {
      hideAll(getElementsByClassName(document, 'table', 'vars'));
      hideAll(getElementsByClassName(document, 'ol', 'pre-context'));
      hideAll(getElementsByClassName(document, 'ol', 'post-context'));
      hideAll(getElementsByClassName(document, 'div', 'pastebin'));
    }
    function toggle() {
      for (var i = 0; i < arguments.length; i++) {
        var e = document.getElementById(arguments[i]);
        if (e) {
          e.style.display = e.style.display == 'none' ? 'block' : 'none';
        }
      }
      return false;
    }
    function varToggle(link, id) {
      toggle('v' + id);
      var s = link.getElementsByTagName('span')[0];
      var uarr = String.fromCharCode(0x25b6);
      var darr = String.fromCharCode(0x25bc);
      s.innerHTML = s.innerHTML == uarr ? darr : uarr;
      return false;
    }
    function switchPastebinFriendly(link) {
      s1 = "Switch to copy-and-paste view";
      s2 = "Switch back to interactive view";
      link.innerHTML = link.innerHTML == s1 ? s2 : s1;
      toggle('browserTraceback', 'pastebinTraceback');
      return false;
    }
    //-->
  </script>
  
</head>
<body>
<div id="summary">
  <h1>KeyError at /api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets</h1>
  <pre class="exception_value">u&#39;On Visiting and its Abuse&#39;</pre>
  <table class="meta">

    <tr>
      <th>Request Method:</th>
      <td>POST</td>
    </tr>
    <tr>
      <th>Request URL:</th>
      <td>http://ste.sefaria.org/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1</td>
    </tr>

    <tr>
      <th>Django Version:</th>
      <td>1.4.5</td>
    </tr>

    <tr>
      <th>Exception Type:</th>
      <td>KeyError</td>
    </tr>


    <tr>
      <th>Exception Value:</th>
      <td><pre>u&#39;On Visiting and its Abuse&#39;</pre></td>
    </tr>


    <tr>
      <th>Exception Location:</th>
      <td>/var/www/ste/sefaria/model/schema.py in visit_content, line 1121</td>
    </tr>

    <tr>
      <th>Python Executable:</th>
      <td>/usr/local/bin/python</td>
    </tr>
    <tr>
      <th>Python Version:</th>
      <td>2.7.9</td>
    </tr>
    <tr>
      <th>Python Path:</th>
      <td><pre>[&#39;/var/www/ste&#39;,
 &#39;/usr/local/lib/python2.7/site-packages/mod_wsgi-4.4.21-py2.7-linux-x86_64.egg&#39;,
 &#39;/usr/local/lib/python2.7/site-packages/num2words-0.5.4-py2.7.egg&#39;,
 &#39;/usr/local/lib/python2.7/site-packages/num2words-0.5.4-py2.7.egg&#39;,
 &#39;/usr/local/lib/python27.zip&#39;,
 &#39;/usr/local/lib/python2.7&#39;,
 &#39;/usr/local/lib/python2.7/plat-linux2&#39;,
 &#39;/usr/local/lib/python2.7/lib-tk&#39;,
 &#39;/usr/local/lib/python2.7/lib-old&#39;,
 &#39;/usr/local/lib/python2.7/lib-dynload&#39;,
 &#39;/usr/local/lib/python2.7/site-packages&#39;]</pre></td>
    </tr>
    <tr>
      <th>Server time:</th>
      <td>Mon, 18 Dec 2017 02:12:14 -0800</td>
    </tr>
  </table>
</div>




<div id="traceback">
  <h2>Traceback <span class="commands"><a href="#" onclick="return switchPastebinFriendly(this);">Switch to copy-and-paste view</a></span></h2>
  
  <div id="browserTraceback">
    <ul class="traceback">
      
        <li class="frame django">
          <code>/usr/local/lib/python2.7/site-packages/django/core/handlers/base.py</code> in <code>get_response</code>

          
            <div class="context" id="c140478378383984">
              
                <ol start="104" class="pre-context" id="pre140478378383984"><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                    for middleware_method in self._view_middleware:</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        response = middleware_method(request, callback, callback_args, callback_kwargs)</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        if response:</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                            break</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre></pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                if response is None:</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                    try:</pre></li></ol>
              
              <ol start="111" class="context-line"><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        response = callback(request, *callback_args, **callback_kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='112' class="post-context" id="post140478378383984"><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                    except Exception, e:</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        # If the view raised an exception, run it through exception</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        # middleware, and if the exception middleware returns a</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        # response, use that. Otherwise, reraise the exception.</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                        for middleware_method in self._exception_middleware:</pre></li><li onclick="toggle('pre140478378383984', 'post140478378383984')"><pre>                            response = middleware_method(request, e)</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378383984')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378383984">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>exceptions</td>
                    <td class="code"><pre>&lt;module &#39;django.core.exceptions&#39; from &#39;/usr/local/lib/python2.7/site-packages/django/core/exceptions.pyc&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>e</td>
                    <td class="code"><pre>KeyError(u&#39;On Visiting and its Abuse&#39;,)</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>settings</td>
                    <td class="code"><pre>&lt;django.conf.LazySettings object at 0x7fc3bf0a1a90&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>middleware_method</td>
                    <td class="code"><pre>&lt;bound method ProfileMiddleware.process_view of &lt;sefaria.system.middleware.ProfileMiddleware object at 0x7fc3b0c4a510&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.core.handlers.wsgi.WSGIHandler object at 0x7fc3bd46e990&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&#39;&lt;WSGIRequest\npath:/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets,\nGET:&lt;QueryDict: {u\&#39;count_after\&#39;: [u\&#39;1\&#39;]}&gt;,\nPOST:&lt;QueryDict: {u\&#39;json\&#39;: [u\&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\\\&quot;The secret of the Lord is with them that fear Him,\\\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\\\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\\\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}\&#39;], u\&#39;apikey\&#39;: [u\&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg\&#39;]}&gt;,\nCOOKIES:{},\nMETA:{\&#39;CONTENT_LENGTH\&#39;: \&#39;3865\&#39;,\n \&#39;CONTENT_TYPE\&#39;: \&#39;application/x-www-form-urlencoded\&#39;,\n \&#39;CONTEXT_DOCUMENT_ROOT\&#39;: \&#39;/var/www/ste/static/\&#39;,\n \&#39;CONTEXT_PREFIX\&#39;: \&#39;\&#39;,\n \&#39;CSRF_COOKIE\&#39;: \&#39;lF9AlSqswoXQha4anlgXUCHmLEiHNsre\&#39;,\n \&#39;DOCUMENT_ROOT\&#39;: \&#39;/var/www/ste/static/\&#39;,\n \&#39;GATEWAY_INTERFACE\&#39;: \&#39;CGI/1.1\&#39;,\n \&#39;HTTP_ACCEPT\&#39;: \&#39;*/*\&#39;,\n \&#39;HTTP_ACCEPT_ENCODING\&#39;: \&#39;gzip, deflate\&#39;,\n \&#39;HTTP_HOST\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;HTTP_USER_AGENT\&#39;: \&#39;python-requests/2.18.4\&#39;,\n \&#39;HTTP_X_FORWARDED_FOR\&#39;: \&#39;141.226.179.26\&#39;,\n \&#39;HTTP_X_VARNISH\&#39;: \&#39;13082316\&#39;,\n \&#39;PATH_INFO\&#39;: u\&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;PATH_TRANSLATED\&#39;: \&#39;/var/www/ste/sefaria/wsgi.py/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;QUERY_STRING\&#39;: \&#39;count_after=1\&#39;,\n \&#39;REMOTE_ADDR\&#39;: \&#39;127.0.0.1\&#39;,\n \&#39;REMOTE_PORT\&#39;: \&#39;55342\&#39;,\n \&#39;REQUEST_METHOD\&#39;: \&#39;POST\&#39;,\n \&#39;REQUEST_SCHEME\&#39;: \&#39;http\&#39;,\n \&#39;REQUEST_URI\&#39;: \&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1\&#39;,\n \&#39;SCRIPT_FILENAME\&#39;: \&#39;/var/www/ste/sefaria/wsgi.py\&#39;,\n \&#39;SCRIPT_NAME\&#39;: u\&#39;\&#39;,\n \&#39;SERVER_ADDR\&#39;: \&#39;127.0.0.1\&#39;,\n \&#39;SERVER_ADMIN\&#39;: \&#39;dev@sefaria.org\&#39;,\n \&#39;SERVER_NAME\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;SERVER_PORT\&#39;: \&#39;80\&#39;,\n \&#39;SERVER_PROTOCOL\&#39;: \&#39;HTTP/1.1\&#39;,\n \&#39;SERVER_SIGNATURE\&#39;: \&#39;&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at ste.sefaria.org Port 80&lt;/address&gt;\\n\&#39;,\n \&#39;SERVER_SOFTWARE\&#39;: \&#39;Apache/2.4.7 (Ubuntu)\&#39;,\n \&#39;apache.version\&#39;: (2, 4, 7),\n \&#39;mod_wsgi.application_group\&#39;: \&#39;ste.sefaria.org|\&#39;,\n \&#39;mod_wsgi.callable_object\&#39;: \&#39;application\&#39;,\n \&#39;mod_wsgi.daemon_connects\&#39;: \&#39;1\&#39;,\n \&#39;mod_wsgi.daemon_restarts\&#39;: \&#39;0\&#39;,\n \&#39;mod_wsgi.daemon_start\&#39;: \&#39;1513591934291451\&#39;,\n \&#39;mod_wsgi.enable_sendfile\&#39;: \&#39;0\&#39;,\n \&#39;mod_wsgi.handler_script\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.listener_host\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.listener_port\&#39;: \&#39;8080\&#39;,\n \&#39;mod_wsgi.path_info\&#39;: \&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;mod_wsgi.process_group\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;mod_wsgi.queue_start\&#39;: \&#39;1513591934291324\&#39;,\n \&#39;mod_wsgi.request_handler\&#39;: \&#39;wsgi-script\&#39;,\n \&#39;mod_wsgi.request_start\&#39;: \&#39;1513591934291078\&#39;,\n \&#39;mod_wsgi.script_name\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.script_reloading\&#39;: \&#39;1\&#39;,\n \&#39;mod_wsgi.script_start\&#39;: \&#39;1513591934291492\&#39;,\n \&#39;mod_wsgi.version\&#39;: (4, 4, 21),\n \&#39;wsgi.errors\&#39;: &lt;mod_wsgi.Log object at 0x7fc3abb0da50&gt;,\n \&#39;wsgi.file_wrapper\&#39;: &lt;type \&#39;mod_wsgi.FileWrapper\&#39;&gt;,\n \&#39;wsgi.input\&#39;: &lt;mod_wsgi.Input object at 0x7fc39fe13e40&gt;,\n \&#39;wsgi.multiprocess\&#39;: False,\n \&#39;wsgi.multithread\&#39;: True,\n \&#39;wsgi.run_once\&#39;: False,\n \&#39;wsgi.url_scheme\&#39;: \&#39;http\&#39;,\n \&#39;wsgi.version\&#39;: (1, 0)}&gt;&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class="code"><pre>&lt;function texts_api at 0x7fc3a1596140&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>resolver</td>
                    <td class="code"><pre>&lt;RegexURLResolver sefaria.urls (None:None) ^/&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>urlresolvers</td>
                    <td class="code"><pre>&lt;module &#39;django.core.urlresolvers&#39; from &#39;/usr/local/lib/python2.7/site-packages/django/core/urlresolvers.pyc&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_kwargs</td>
                    <td class="code"><pre>{&#39;tref&#39;: u&#39;Yesod_HaYirah,_On_Counsel_and_Secrets&#39;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>response</td>
                    <td class="code"><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>urlconf</td>
                    <td class="code"><pre>&#39;sefaria.urls&#39;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/sefaria/system/decorators.py</code> in <code>wrapper</code>

          
            <div class="context" id="c140478378384056">
              
                <ol start="15" class="pre-context" id="pre140478378384056"><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>def catch_error_as_json(func):</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    &quot;&quot;&quot;</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    Decorator that catches InputErrors and translates them into JSON &#39;error&#39; dicts for front end consumption.</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    &quot;&quot;&quot;</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    @wraps(func)</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    def wrapper(*args, **kwargs):</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>        try:</pre></li></ol>
              
              <ol start="22" class="context-line"><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>            result = func(*args, **kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='23' class="post-context" id="post140478378384056"><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>        except exps.InputError as e:</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>            logger.warning(u&quot;An exception occurred processing request for &#39;{}&#39; while running {}. Caught as JSON&quot;.format(args[0].path, func.__name__), exc_info=True)</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>            request = args[0]</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>            return jsonResponse({&quot;error&quot;: unicode(e)}, callback=request.GET.get(&quot;callback&quot;, None))</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>        return result</pre></li><li onclick="toggle('pre140478378384056', 'post140478378384056')"><pre>    return wrapper</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378384056')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378384056">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>(&lt;WSGIRequest
path:/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets,
GET:&lt;QueryDict: {u&#39;count_after&#39;: [u&#39;1&#39;]}&gt;,
POST:&lt;QueryDict: {u&#39;json&#39;: [u&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\&quot;The secret of the Lord is with them that fear Him,\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}&#39;], u&#39;apikey&#39;: [u&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg&#39;]}&gt;,
COOKIES:{},
META:{&#39;CONTENT_LENGTH&#39;: &#39;3865&#39;,
 &#39;CONTENT_TYPE&#39;: &#39;application/x-www-form-urlencoded&#39;,
 &#39;CONTEXT_DOCUMENT_ROOT&#39;: &#39;/var/www/ste/static/&#39;,
 &#39;CONTEXT_PREFIX&#39;: &#39;&#39;,
 &#39;CSRF_COOKIE&#39;: &#39;lF9AlSqswoXQha4anlgXUCHmLEiHNsre&#39;,
 &#39;DOCUMENT_ROOT&#39;: &#39;/var/www/ste/static/&#39;,
 &#39;GATEWAY_INTERFACE&#39;: &#39;CGI/1.1&#39;,
 &#39;HTTP_ACCEPT&#39;: &#39;*/*&#39;,
 &#39;HTTP_ACCEPT_ENCODING&#39;: &#39;gzip, deflate&#39;,
 &#39;HTTP_HOST&#39;: &#39;ste.sefaria.org&#39;,
 &#39;HTTP_USER_AGENT&#39;: &#39;python-requests/2.18.4&#39;,
 &#39;HTTP_X_FORWARDED_FOR&#39;: &#39;141.226.179.26&#39;,
 &#39;HTTP_X_VARNISH&#39;: &#39;13082316&#39;,
 &#39;PATH_INFO&#39;: u&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;PATH_TRANSLATED&#39;: &#39;/var/www/ste/sefaria/wsgi.py/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;QUERY_STRING&#39;: &#39;count_after=1&#39;,
 &#39;REMOTE_ADDR&#39;: &#39;127.0.0.1&#39;,
 &#39;REMOTE_PORT&#39;: &#39;55342&#39;,
 &#39;REQUEST_METHOD&#39;: &#39;POST&#39;,
 &#39;REQUEST_SCHEME&#39;: &#39;http&#39;,
 &#39;REQUEST_URI&#39;: &#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1&#39;,
 &#39;SCRIPT_FILENAME&#39;: &#39;/var/www/ste/sefaria/wsgi.py&#39;,
 &#39;SCRIPT_NAME&#39;: u&#39;&#39;,
 &#39;SERVER_ADDR&#39;: &#39;127.0.0.1&#39;,
 &#39;SERVER_ADMIN&#39;: &#39;dev@sefaria.org&#39;,
 &#39;SERVER_NAME&#39;: &#39;ste.sefaria.org&#39;,
 &#39;SERVER_PORT&#39;: &#39;80&#39;,
 &#39;SERVER_PROTOCOL&#39;: &#39;HTTP/1.1&#39;,
 &#39;SERVER_SIGNATURE&#39;: &#39;&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at ste.sefaria.org Port 80&lt;/address&gt;\n&#39;,
 &#39;SERVER_SOFTWARE&#39;: &#39;Apache/2.4.7 (Ubuntu)&#39;,
 &#39;apache.version&#39;: (2, 4, 7),
 &#39;mod_wsgi.application_group&#39;: &#39;ste.sefaria.org|&#39;,
 &#39;mod_wsgi.callable_object&#39;: &#39;application&#39;,
 &#39;mod_wsgi.daemon_connects&#39;: &#39;1&#39;,
 &#39;mod_wsgi.daemon_restarts&#39;: &#39;0&#39;,
 &#39;mod_wsgi.daemon_start&#39;: &#39;1513591934291451&#39;,
 &#39;mod_wsgi.enable_sendfile&#39;: &#39;0&#39;,
 &#39;mod_wsgi.handler_script&#39;: &#39;&#39;,
 &#39;mod_wsgi.listener_host&#39;: &#39;&#39;,
 &#39;mod_wsgi.listener_port&#39;: &#39;8080&#39;,
 &#39;mod_wsgi.path_info&#39;: &#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;mod_wsgi.process_group&#39;: &#39;ste.sefaria.org&#39;,
 &#39;mod_wsgi.queue_start&#39;: &#39;1513591934291324&#39;,
 &#39;mod_wsgi.request_handler&#39;: &#39;wsgi-script&#39;,
 &#39;mod_wsgi.request_start&#39;: &#39;1513591934291078&#39;,
 &#39;mod_wsgi.script_name&#39;: &#39;&#39;,
 &#39;mod_wsgi.script_reloading&#39;: &#39;1&#39;,
 &#39;mod_wsgi.script_start&#39;: &#39;1513591934291492&#39;,
 &#39;mod_wsgi.version&#39;: (4, 4, 21),
 &#39;wsgi.errors&#39;: &lt;mod_wsgi.Log object at 0x7fc3abb0da50&gt;,
 &#39;wsgi.file_wrapper&#39;: &lt;type &#39;mod_wsgi.FileWrapper&#39;&gt;,
 &#39;wsgi.input&#39;: &lt;mod_wsgi.Input object at 0x7fc39fe13e40&gt;,
 &#39;wsgi.multiprocess&#39;: False,
 &#39;wsgi.multithread&#39;: True,
 &#39;wsgi.run_once&#39;: False,
 &#39;wsgi.url_scheme&#39;: &#39;http&#39;,
 &#39;wsgi.version&#39;: (1, 0)}&gt;,)</pre></td>
                  </tr>
                
                  <tr>
                    <td>func</td>
                    <td class="code"><pre>&lt;function texts_api at 0x7fc3a15960c8&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#39;tref&#39;: u&#39;Yesod_HaYirah,_On_Counsel_and_Secrets&#39;}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame django">
          <code>/usr/local/lib/python2.7/site-packages/django/views/decorators/csrf.py</code> in <code>wrapped_view</code>

          
            <div class="context" id="c140478378382832">
              
                <ol start="70" class="pre-context" id="pre140478378382832"><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    &quot;&quot;&quot;</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    Marks a view function as being exempt from the CSRF view protection.</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    &quot;&quot;&quot;</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    # We could just do view_func.csrf_exempt = True, but decorators</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    # are nicer if they don&#39;t have side-effects, so we return a new</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    # function.</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    def wrapped_view(*args, **kwargs):</pre></li></ol>
              
              <ol start="77" class="context-line"><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>        return view_func(*args, **kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='78' class="post-context" id="post140478378382832"><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    wrapped_view.csrf_exempt = True</pre></li><li onclick="toggle('pre140478378382832', 'post140478378382832')"><pre>    return wraps(view_func, assigned=available_attrs(view_func))(wrapped_view)</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378382832')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378382832">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>(&lt;WSGIRequest
path:/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets,
GET:&lt;QueryDict: {u&#39;count_after&#39;: [u&#39;1&#39;]}&gt;,
POST:&lt;QueryDict: {u&#39;json&#39;: [u&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\&quot;The secret of the Lord is with them that fear Him,\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}&#39;], u&#39;apikey&#39;: [u&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg&#39;]}&gt;,
COOKIES:{},
META:{&#39;CONTENT_LENGTH&#39;: &#39;3865&#39;,
 &#39;CONTENT_TYPE&#39;: &#39;application/x-www-form-urlencoded&#39;,
 &#39;CONTEXT_DOCUMENT_ROOT&#39;: &#39;/var/www/ste/static/&#39;,
 &#39;CONTEXT_PREFIX&#39;: &#39;&#39;,
 &#39;CSRF_COOKIE&#39;: &#39;lF9AlSqswoXQha4anlgXUCHmLEiHNsre&#39;,
 &#39;DOCUMENT_ROOT&#39;: &#39;/var/www/ste/static/&#39;,
 &#39;GATEWAY_INTERFACE&#39;: &#39;CGI/1.1&#39;,
 &#39;HTTP_ACCEPT&#39;: &#39;*/*&#39;,
 &#39;HTTP_ACCEPT_ENCODING&#39;: &#39;gzip, deflate&#39;,
 &#39;HTTP_HOST&#39;: &#39;ste.sefaria.org&#39;,
 &#39;HTTP_USER_AGENT&#39;: &#39;python-requests/2.18.4&#39;,
 &#39;HTTP_X_FORWARDED_FOR&#39;: &#39;141.226.179.26&#39;,
 &#39;HTTP_X_VARNISH&#39;: &#39;13082316&#39;,
 &#39;PATH_INFO&#39;: u&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;PATH_TRANSLATED&#39;: &#39;/var/www/ste/sefaria/wsgi.py/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;QUERY_STRING&#39;: &#39;count_after=1&#39;,
 &#39;REMOTE_ADDR&#39;: &#39;127.0.0.1&#39;,
 &#39;REMOTE_PORT&#39;: &#39;55342&#39;,
 &#39;REQUEST_METHOD&#39;: &#39;POST&#39;,
 &#39;REQUEST_SCHEME&#39;: &#39;http&#39;,
 &#39;REQUEST_URI&#39;: &#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1&#39;,
 &#39;SCRIPT_FILENAME&#39;: &#39;/var/www/ste/sefaria/wsgi.py&#39;,
 &#39;SCRIPT_NAME&#39;: u&#39;&#39;,
 &#39;SERVER_ADDR&#39;: &#39;127.0.0.1&#39;,
 &#39;SERVER_ADMIN&#39;: &#39;dev@sefaria.org&#39;,
 &#39;SERVER_NAME&#39;: &#39;ste.sefaria.org&#39;,
 &#39;SERVER_PORT&#39;: &#39;80&#39;,
 &#39;SERVER_PROTOCOL&#39;: &#39;HTTP/1.1&#39;,
 &#39;SERVER_SIGNATURE&#39;: &#39;&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at ste.sefaria.org Port 80&lt;/address&gt;\n&#39;,
 &#39;SERVER_SOFTWARE&#39;: &#39;Apache/2.4.7 (Ubuntu)&#39;,
 &#39;apache.version&#39;: (2, 4, 7),
 &#39;mod_wsgi.application_group&#39;: &#39;ste.sefaria.org|&#39;,
 &#39;mod_wsgi.callable_object&#39;: &#39;application&#39;,
 &#39;mod_wsgi.daemon_connects&#39;: &#39;1&#39;,
 &#39;mod_wsgi.daemon_restarts&#39;: &#39;0&#39;,
 &#39;mod_wsgi.daemon_start&#39;: &#39;1513591934291451&#39;,
 &#39;mod_wsgi.enable_sendfile&#39;: &#39;0&#39;,
 &#39;mod_wsgi.handler_script&#39;: &#39;&#39;,
 &#39;mod_wsgi.listener_host&#39;: &#39;&#39;,
 &#39;mod_wsgi.listener_port&#39;: &#39;8080&#39;,
 &#39;mod_wsgi.path_info&#39;: &#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;,
 &#39;mod_wsgi.process_group&#39;: &#39;ste.sefaria.org&#39;,
 &#39;mod_wsgi.queue_start&#39;: &#39;1513591934291324&#39;,
 &#39;mod_wsgi.request_handler&#39;: &#39;wsgi-script&#39;,
 &#39;mod_wsgi.request_start&#39;: &#39;1513591934291078&#39;,
 &#39;mod_wsgi.script_name&#39;: &#39;&#39;,
 &#39;mod_wsgi.script_reloading&#39;: &#39;1&#39;,
 &#39;mod_wsgi.script_start&#39;: &#39;1513591934291492&#39;,
 &#39;mod_wsgi.version&#39;: (4, 4, 21),
 &#39;wsgi.errors&#39;: &lt;mod_wsgi.Log object at 0x7fc3abb0da50&gt;,
 &#39;wsgi.file_wrapper&#39;: &lt;type &#39;mod_wsgi.FileWrapper&#39;&gt;,
 &#39;wsgi.input&#39;: &lt;mod_wsgi.Input object at 0x7fc39fe13e40&gt;,
 &#39;wsgi.multiprocess&#39;: False,
 &#39;wsgi.multithread&#39;: True,
 &#39;wsgi.run_once&#39;: False,
 &#39;wsgi.url_scheme&#39;: &#39;http&#39;,
 &#39;wsgi.version&#39;: (1, 0)}&gt;,)</pre></td>
                  </tr>
                
                  <tr>
                    <td>view_func</td>
                    <td class="code"><pre>&lt;function texts_api at 0x7fc3a1596050&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#39;tref&#39;: u&#39;Yesod_HaYirah,_On_Counsel_and_Secrets&#39;}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/reader/views.py</code> in <code>texts_api</code>

          
            <div class="context" id="c140478378384848">
              
                <ol start="1483" class="pre-context" id="pre140478378384848"><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>                return jsonResponse({&quot;error&quot;: &quot;You must be logged in or use an API key to save texts.&quot;})</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            apikey = db.apikeys.find_one({&quot;key&quot;: key})</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            if not apikey:</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>                return jsonResponse({&quot;error&quot;: &quot;Unrecognized API key.&quot;})</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            t = json.loads(j)</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            chunk = tracker.modify_text(apikey[&quot;uid&quot;], oref, t[&quot;versionTitle&quot;], t[&quot;language&quot;], t[&quot;text&quot;], t[&quot;versionSource&quot;], method=&quot;API&quot;, skip_links=skip_links)</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            count_after = int(request.GET.get(&quot;count_after&quot;, 0))</pre></li></ol>
              
              <ol start="1490" class="context-line"><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            count_and_index(oref, chunk.lang, chunk.vtitle, count_after)</pre> <span>...</span></li></ol>
              
                <ol start='1491' class="post-context" id="post140478378384848"><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            return jsonResponse({&quot;status&quot;: &quot;ok&quot;})</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>        else:</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            @csrf_protect</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>            def protected_post(request):</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>                t = json.loads(j)</pre></li><li onclick="toggle('pre140478378384848', 'post140478378384848')"><pre>                chunk = tracker.modify_text(request.user.id, oref, t[&quot;versionTitle&quot;], t[&quot;language&quot;], t[&quot;text&quot;], t.get(&quot;versionSource&quot;, None), skip_links=skip_links)</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378384848')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378384848">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>lang</td>
                    <td class="code"><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>skip_links</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>apikey</td>
                    <td class="code"><pre>{u&#39;_id&#39;: ObjectId(&#39;57e9a62dd6e4a906c1ca2a5b&#39;),
 u&#39;key&#39;: u&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg&#39;,
 u&#39;uid&#39;: 15399}</pre></td>
                  </tr>
                
                  <tr>
                    <td>chunk</td>
                    <td class="code"><pre>TextChunk(Yesod HaYirah, On Counsel and Secrets, en, Yesod HaYirah)</pre></td>
                  </tr>
                
                  <tr>
                    <td>j</td>
                    <td class="code"><pre>u&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\&quot;The secret of the Lord is with them that fear Him,\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&#39;&lt;WSGIRequest\npath:/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets,\nGET:&lt;QueryDict: {u\&#39;count_after\&#39;: [u\&#39;1\&#39;]}&gt;,\nPOST:&lt;QueryDict: {u\&#39;json\&#39;: [u\&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\\\&quot;The secret of the Lord is with them that fear Him,\\\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\\\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\\\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}\&#39;], u\&#39;apikey\&#39;: [u\&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg\&#39;]}&gt;,\nCOOKIES:{},\nMETA:{\&#39;CONTENT_LENGTH\&#39;: \&#39;3865\&#39;,\n \&#39;CONTENT_TYPE\&#39;: \&#39;application/x-www-form-urlencoded\&#39;,\n \&#39;CONTEXT_DOCUMENT_ROOT\&#39;: \&#39;/var/www/ste/static/\&#39;,\n \&#39;CONTEXT_PREFIX\&#39;: \&#39;\&#39;,\n \&#39;CSRF_COOKIE\&#39;: \&#39;lF9AlSqswoXQha4anlgXUCHmLEiHNsre\&#39;,\n \&#39;DOCUMENT_ROOT\&#39;: \&#39;/var/www/ste/static/\&#39;,\n \&#39;GATEWAY_INTERFACE\&#39;: \&#39;CGI/1.1\&#39;,\n \&#39;HTTP_ACCEPT\&#39;: \&#39;*/*\&#39;,\n \&#39;HTTP_ACCEPT_ENCODING\&#39;: \&#39;gzip, deflate\&#39;,\n \&#39;HTTP_HOST\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;HTTP_USER_AGENT\&#39;: \&#39;python-requests/2.18.4\&#39;,\n \&#39;HTTP_X_FORWARDED_FOR\&#39;: \&#39;141.226.179.26\&#39;,\n \&#39;HTTP_X_VARNISH\&#39;: \&#39;13082316\&#39;,\n \&#39;PATH_INFO\&#39;: u\&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;PATH_TRANSLATED\&#39;: \&#39;/var/www/ste/sefaria/wsgi.py/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;QUERY_STRING\&#39;: \&#39;count_after=1\&#39;,\n \&#39;REMOTE_ADDR\&#39;: \&#39;127.0.0.1\&#39;,\n \&#39;REMOTE_PORT\&#39;: \&#39;55342\&#39;,\n \&#39;REQUEST_METHOD\&#39;: \&#39;POST\&#39;,\n \&#39;REQUEST_SCHEME\&#39;: \&#39;http\&#39;,\n \&#39;REQUEST_URI\&#39;: \&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1\&#39;,\n \&#39;SCRIPT_FILENAME\&#39;: \&#39;/var/www/ste/sefaria/wsgi.py\&#39;,\n \&#39;SCRIPT_NAME\&#39;: u\&#39;\&#39;,\n \&#39;SERVER_ADDR\&#39;: \&#39;127.0.0.1\&#39;,\n \&#39;SERVER_ADMIN\&#39;: \&#39;dev@sefaria.org\&#39;,\n \&#39;SERVER_NAME\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;SERVER_PORT\&#39;: \&#39;80\&#39;,\n \&#39;SERVER_PROTOCOL\&#39;: \&#39;HTTP/1.1\&#39;,\n \&#39;SERVER_SIGNATURE\&#39;: \&#39;&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at ste.sefaria.org Port 80&lt;/address&gt;\\n\&#39;,\n \&#39;SERVER_SOFTWARE\&#39;: \&#39;Apache/2.4.7 (Ubuntu)\&#39;,\n \&#39;apache.version\&#39;: (2, 4, 7),\n \&#39;mod_wsgi.application_group\&#39;: \&#39;ste.sefaria.org|\&#39;,\n \&#39;mod_wsgi.callable_object\&#39;: \&#39;application\&#39;,\n \&#39;mod_wsgi.daemon_connects\&#39;: \&#39;1\&#39;,\n \&#39;mod_wsgi.daemon_restarts\&#39;: \&#39;0\&#39;,\n \&#39;mod_wsgi.daemon_start\&#39;: \&#39;1513591934291451\&#39;,\n \&#39;mod_wsgi.enable_sendfile\&#39;: \&#39;0\&#39;,\n \&#39;mod_wsgi.handler_script\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.listener_host\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.listener_port\&#39;: \&#39;8080\&#39;,\n \&#39;mod_wsgi.path_info\&#39;: \&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets\&#39;,\n \&#39;mod_wsgi.process_group\&#39;: \&#39;ste.sefaria.org\&#39;,\n \&#39;mod_wsgi.queue_start\&#39;: \&#39;1513591934291324\&#39;,\n \&#39;mod_wsgi.request_handler\&#39;: \&#39;wsgi-script\&#39;,\n \&#39;mod_wsgi.request_start\&#39;: \&#39;1513591934291078\&#39;,\n \&#39;mod_wsgi.script_name\&#39;: \&#39;\&#39;,\n \&#39;mod_wsgi.script_reloading\&#39;: \&#39;1\&#39;,\n \&#39;mod_wsgi.script_start\&#39;: \&#39;1513591934291492\&#39;,\n \&#39;mod_wsgi.version\&#39;: (4, 4, 21),\n \&#39;wsgi.errors\&#39;: &lt;mod_wsgi.Log object at 0x7fc3abb0da50&gt;,\n \&#39;wsgi.file_wrapper\&#39;: &lt;type \&#39;mod_wsgi.FileWrapper\&#39;&gt;,\n \&#39;wsgi.input\&#39;: &lt;mod_wsgi.Input object at 0x7fc39fe13e40&gt;,\n \&#39;wsgi.multiprocess\&#39;: False,\n \&#39;wsgi.multithread\&#39;: True,\n \&#39;wsgi.run_once\&#39;: False,\n \&#39;wsgi.url_scheme\&#39;: \&#39;http\&#39;,\n \&#39;wsgi.version\&#39;: (1, 0)}&gt;&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>tref</td>
                    <td class="code"><pre>u&#39;Yesod_HaYirah,_On_Counsel_and_Secrets&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>version</td>
                    <td class="code"><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>count_after</td>
                    <td class="code"><pre>1</pre></td>
                  </tr>
                
                  <tr>
                    <td>key</td>
                    <td class="code"><pre>u&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>oref</td>
                    <td class="code"><pre>Ref(&#39;Yesod HaYirah, On Counsel and Secrets&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>t</td>
                    <td class="code"><pre>{u&#39;language&#39;: u&#39;en&#39;,
 u&#39;text&#39;: [u&#39;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid &quot;The secret of the Lord is with them that fear Him,&quot; to make known unto them the counsel of wisdom and His secret.&#39;,
           u&#39;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&#39;,
           u&quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;,
           u&#39;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&#39;,
           u&#39;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&#39;,
           u&#39;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&#39;,
           u&#39;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&#39;,
           u&quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;,
           u&#39;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&#39;,
           u&#39;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&#39;],
 u&#39;versionSource&#39;: u&#39;http://primo.nli.org.il/&#39;,
 u&#39;versionTitle&#39;: u&#39;Yesod HaYirah&#39;}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/reader/views.py</code> in <code>count_and_index</code>

          
            <div class="context" id="c140478378384920">
              
                <ol start="1392" class="pre-context" id="pre140478378384920"><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>    return response</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre></pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre></pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>#todo: is this used elsewhere? move it?</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>def count_and_index(c_oref, c_lang, vtitle, to_count=1):</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>    # count available segments of text</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>    if to_count:</pre></li></ol>
              
              <ol start="1399" class="context-line"><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>        library.recount_index_in_toc(c_oref.index)</pre> <span>...</span></li></ol>
              
                <ol start='1400' class="post-context" id="post140478378384920"><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre></pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>    from sefaria.settings import SEARCH_INDEX_ON_SAVE</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>    if SEARCH_INDEX_ON_SAVE:</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>        model.IndexQueue({</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>            &quot;ref&quot;: c_oref.normal(),</pre></li><li onclick="toggle('pre140478378384920', 'post140478378384920')"><pre>            &quot;lang&quot;: c_lang,</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378384920')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378384920">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>vtitle</td>
                    <td class="code"><pre>u&#39;Yesod HaYirah&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>to_count</td>
                    <td class="code"><pre>1</pre></td>
                  </tr>
                
                  <tr>
                    <td>c_lang</td>
                    <td class="code"><pre>u&#39;en&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>c_oref</td>
                    <td class="code"><pre>Ref(&#39;Yesod HaYirah, On Counsel and Secrets&#39;)</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/sefaria/model/text.py</code> in <code>recount_index_in_toc</code>

          
            <div class="context" id="c140478378385064">
              
                <ol start="3996" class="pre-context" id="pre140478378385064"><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>            return self._ref_auto_completer[lang]</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>        except KeyError:</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>            logger.warning(&quot;Failed to load {} ref auto completer, rebuilding.&quot;.format(lang))</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>            self.build_ref_auto_completer()  # I worry that these could pile up.</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>            return self._ref_auto_completer[lang]</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre></pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>    def recount_index_in_toc(self, indx):</pre></li></ol>
              
              <ol start="4003" class="context-line"><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>        self.get_toc_tree().update_title(indx, recount=True)</pre> <span>...</span></li></ol>
              
                <ol start='4004' class="post-context" id="post140478378385064"><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre></pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>        from sefaria.summaries import update_title_in_toc</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>        self._search_filter_toc = update_title_in_toc(self.get_search_filter_toc(), indx, recount=False, for_search=True)</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre></pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre>        self.rebuild_toc(skip_toc_tree=True, skip_filter_toc=True)</pre></li><li onclick="toggle('pre140478378385064', 'post140478378385064')"><pre></pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378385064')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378385064">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;sefaria.model.text.Library object at 0x7fc3b66985d0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>indx</td>
                    <td class="code"><pre>Index().load({&#39;title&#39;: &#39;Yesod HaYirah&#39;})</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/sefaria/model/category.py</code> in <code>update_title</code>

          
            <div class="context" id="c140478378384776">
              
                <ol start="299" class="pre-context" id="pre140478378384776"><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>        if recount or not node:</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            from version_state import VersionState</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            try:</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                vs = VersionState(title)</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            except BookNameError:</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                logger.warning(u&quot;Failed to find VersionState for {} in TocTree.update_title()&quot;.format(title))</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                return</pre></li></ol>
              
              <ol start="306" class="context-line"><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            vs.refresh()</pre> <span>...</span></li></ol>
              
                <ol start='307' class="post-context" id="post140478378384776"><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            sn = vs.state_node(index.nodes)</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            self._vs_lookup[title] = {</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                &quot;first_section_ref&quot;: vs.first_section_ref,</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                &quot;heComplete&quot;: vs.get_flag(&quot;heComplete&quot;),</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>                &quot;enComplete&quot;: vs.get_flag(&quot;enComplete&quot;),</pre></li><li onclick="toggle('pre140478378384776', 'post140478378384776')"><pre>            }</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378384776')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378384776">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>node</td>
                    <td class="code"><pre>TocTextIndex(&#39;TOC, Other, Yesod HaYirah&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>index</td>
                    <td class="code"><pre>Index().load({&#39;title&#39;: &#39;Yesod HaYirah&#39;})</pre></td>
                  </tr>
                
                  <tr>
                    <td>old_ref</td>
                    <td class="code"><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>title</td>
                    <td class="code"><pre>u&#39;Yesod HaYirah&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;sefaria.model.category.TocTree object at 0x7fc3a89eb6d0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>VersionState</td>
                    <td class="code"><pre>&lt;class &#39;sefaria.model.version_state.VersionState&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>vs</td>
                    <td class="code"><pre>&lt;sefaria.model.version_state.VersionState object at 0x7fc396922b90&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>recount</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/sefaria/model/version_state.py</code> in <code>refresh</code>

          
            <div class="context" id="c140478378385136">
              
                <ol start="169" class="pre-context" id="pre140478378385136"><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        d = r._core_dict()</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        d[&quot;toSections&quot;] = d[&quot;sections&quot;] = [(s + 1) for s in new_section[:-depth_up]]</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        return Ref(_obj=d)</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre></pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>    def refresh(self):</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        if self.is_new_state:  # refresh done on init</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>            return</pre></li></ol>
              
              <ol start="176" class="context-line"><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        self.content = self.index.nodes.visit_content(self._content_node_visitor, self.content)</pre> <span>...</span></li></ol>
              
                <ol start='177' class="post-context" id="post140478378385136"><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        self.index.nodes.visit_structure(self._aggregate_structure_state, self)</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        self.linksCount = link.LinkSet(Ref(self.index.title)).count()</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        fsr = self._first_section_ref()</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        self.first_section_ref = fsr.normal() if fsr else None</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre>        self.save()</pre></li><li onclick="toggle('pre140478378385136', 'post140478378385136')"><pre></pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378385136')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378385136">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;sefaria.model.version_state.VersionState object at 0x7fc396922b90&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        <li class="frame user">
          <code>/var/www/ste/sefaria/model/schema.py</code> in <code>visit_content</code>

          
            <div class="context" id="c140478378383624">
              
                <ol start="1114" class="pre-context" id="pre140478378383624"><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>        :param callback:</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>        :return:</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>        &quot;&quot;&quot;</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>        if self.children:</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>            dict = {}</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>            for node in self.children:</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>                # todo: abstract out or put in helper the below reduce</pre></li></ol>
              
              <ol start="1121" class="context-line"><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>                c = [tree[node.key] for tree in contents]</pre> <span>...</span></li></ol>
              
                <ol start='1122' class="post-context" id="post140478378383624"><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>                dict[node.key] = node.visit_content(callback, *c, **kwargs)</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>            return dict</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>        else:</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>            return self.create_content(callback, *contents, **kwargs)</pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre></pre></li><li onclick="toggle('pre140478378383624', 'post140478378383624')"><pre>    def visit_structure(self, callback, content, **kwargs):</pre></li></ol>
              
            </div>
          

          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '140478378383624')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v140478378383624">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>node</td>
                    <td class="code"><pre>JaggedArrayNode(&#39;Yesod HaYirah, On Visiting and its Abuse&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>c</td>
                    <td class="code"><pre>[{u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
           u&#39;availableTexts&#39;: [],
           u&#39;completenessPercent&#39;: 0.0,
           u&#39;percentAvailable&#39;: 0,
           u&#39;percentAvailableInvalid&#39;: True,
           u&#39;textComplete&#39;: False},
  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
           u&#39;availableTexts&#39;: [],
           u&#39;completenessPercent&#39;: 0.0,
           u&#39;percentAvailable&#39;: 0,
           u&#39;percentAvailableInvalid&#39;: True,
           u&#39;textComplete&#39;: False}}]</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>SchemaNode(&#39;Yesod HaYirah&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>tree</td>
                    <td class="code"><pre>{u&#39;On Appreciation&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                                &#39;shape&#39;: 8},
                      u&#39;_en&#39;: {u&#39;availableCounts&#39;: [8],
                               u&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                               u&#39;completenessPercent&#39;: 100.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False},
                      u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                               u&#39;availableTexts&#39;: [0, 0, 0, 0, 0, 0, 0, 0],
                               u&#39;completenessPercent&#39;: 0.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False}},
 u&#39;On Chastity&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1],
                            &#39;shape&#39;: 11},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [11],
                           u&#39;availableTexts&#39;: [1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1],
                           u&#39;completenessPercent&#39;: 100.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Contentment&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1],
                               &#39;shape&#39;: 15},
                     u&#39;_en&#39;: {u&#39;availableCounts&#39;: [15],
                              u&#39;availableTexts&#39;: [1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1],
                              u&#39;completenessPercent&#39;: 100.0,
                              u&#39;percentAvailable&#39;: 0,
                              u&#39;percentAvailableInvalid&#39;: True,
                              u&#39;textComplete&#39;: False},
                     u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                              u&#39;availableTexts&#39;: [0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0],
                              u&#39;completenessPercent&#39;: 0.0,
                              u&#39;percentAvailable&#39;: 0,
                              u&#39;percentAvailableInvalid&#39;: True,
                              u&#39;textComplete&#39;: False}},
 u&#39;On Counsel and Secrets&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1],
                                       &#39;shape&#39;: 10},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [10],
                                      u&#39;availableTexts&#39;: [1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1],
                                      u&#39;completenessPercent&#39;: 100.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
 u&#39;On Deliberation and Haste&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False},
                                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False}},
 u&#39;On Desire&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                         u&#39;availableTexts&#39;: [],
                         u&#39;completenessPercent&#39;: 0.0,
                         u&#39;percentAvailable&#39;: 0,
                         u&#39;percentAvailableInvalid&#39;: True,
                         u&#39;textComplete&#39;: False},
                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                         u&#39;availableTexts&#39;: [],
                         u&#39;completenessPercent&#39;: 0.0,
                         u&#39;percentAvailable&#39;: 0,
                         u&#39;percentAvailableInvalid&#39;: True,
                         u&#39;textComplete&#39;: False}},
 u&#39;On Dignity and Dominion&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                       u&#39;availableTexts&#39;: [],
                                       u&#39;completenessPercent&#39;: 0.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False},
                              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                       u&#39;availableTexts&#39;: [],
                                       u&#39;completenessPercent&#39;: 0.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False}},
 u&#39;On Endurance&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                   u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False},
                   u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False}},
 u&#39;On Fear&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False},
              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False}},
 u&#39;On Humility&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Industry&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Love and Companionship&#39;: {u&#39;_all&#39;: {u&#39;availableTexts&#39;: [], u&#39;shape&#39;: 0},
                                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False},
                                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False}},
 u&#39;On Prayer and Service&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On Pride and Meekness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On Shame and Shamelessness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False},
                                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False}},
 u&#39;On Silence and Speech&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On Visiting and Its Abuse&#39;: {u&#39;_all&#39;: {u&#39;availableTexts&#39;: [], u&#39;shape&#39;: 0},
                                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False},
                                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False}},
 u&#39;On the Law and Wisdom&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;Prelude&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False},
              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False}},
 u&#39;_en&#39;: {u&#39;completenessPercent&#39;: 0.0,
          u&#39;percentAvailable&#39;: 0,
          u&#39;percentAvailableInvalid&#39;: True,
          u&#39;textComplete&#39;: False},
 u&#39;_he&#39;: {u&#39;completenessPercent&#39;: 0.0,
          u&#39;percentAvailable&#39;: 0,
          u&#39;percentAvailableInvalid&#39;: True,
          u&#39;textComplete&#39;: False}}</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class="code"><pre>&lt;bound method VersionState._content_node_visitor of &lt;sefaria.model.version_state.VersionState object at 0x7fc396922b90&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>dict</td>
                    <td class="code"><pre>{u&#39;On Appreciation&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                                &#39;shape&#39;: 8},
                      u&#39;_en&#39;: {u&#39;availableCounts&#39;: [8],
                               u&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                               u&#39;completenessPercent&#39;: 100.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False},
                      u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                               u&#39;availableTexts&#39;: [0, 0, 0, 0, 0, 0, 0, 0],
                               u&#39;completenessPercent&#39;: 0.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False}},
 u&#39;On Chastity&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1],
                            &#39;shape&#39;: 11},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [11],
                           u&#39;availableTexts&#39;: [1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1,
                                               1],
                           u&#39;completenessPercent&#39;: 100.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0,
                                               0],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Contentment&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1],
                               &#39;shape&#39;: 15},
                     u&#39;_en&#39;: {u&#39;availableCounts&#39;: [15],
                              u&#39;availableTexts&#39;: [1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1,
                                                  1],
                              u&#39;completenessPercent&#39;: 100.0,
                              u&#39;percentAvailable&#39;: 0,
                              u&#39;percentAvailableInvalid&#39;: True,
                              u&#39;textComplete&#39;: False},
                     u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                              u&#39;availableTexts&#39;: [0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0,
                                                  0],
                              u&#39;completenessPercent&#39;: 0.0,
                              u&#39;percentAvailable&#39;: 0,
                              u&#39;percentAvailableInvalid&#39;: True,
                              u&#39;textComplete&#39;: False}},
 u&#39;On Counsel and Secrets&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1],
                                       &#39;shape&#39;: 10},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [10],
                                      u&#39;availableTexts&#39;: [1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1,
                                                          1],
                                      u&#39;completenessPercent&#39;: 100.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0,
                                                          0],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
 u&#39;On Deliberation and Haste&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False},
                                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                         u&#39;availableTexts&#39;: [],
                                         u&#39;completenessPercent&#39;: 0.0,
                                         u&#39;percentAvailable&#39;: 0,
                                         u&#39;percentAvailableInvalid&#39;: True,
                                         u&#39;textComplete&#39;: False}},
 u&#39;On Desire&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                         u&#39;availableTexts&#39;: [],
                         u&#39;completenessPercent&#39;: 0.0,
                         u&#39;percentAvailable&#39;: 0,
                         u&#39;percentAvailableInvalid&#39;: True,
                         u&#39;textComplete&#39;: False},
                u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                         u&#39;availableTexts&#39;: [],
                         u&#39;completenessPercent&#39;: 0.0,
                         u&#39;percentAvailable&#39;: 0,
                         u&#39;percentAvailableInvalid&#39;: True,
                         u&#39;textComplete&#39;: False}},
 u&#39;On Dignity and Dominion&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                       u&#39;availableTexts&#39;: [],
                                       u&#39;completenessPercent&#39;: 0.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False},
                              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                       u&#39;availableTexts&#39;: [],
                                       u&#39;completenessPercent&#39;: 0.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False}},
 u&#39;On Endurance&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                   u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False},
                   u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False}},
 u&#39;On Fear&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False},
              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False}},
 u&#39;On Humility&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Industry&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False},
                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                           u&#39;availableTexts&#39;: [],
                           u&#39;completenessPercent&#39;: 0.0,
                           u&#39;percentAvailable&#39;: 0,
                           u&#39;percentAvailableInvalid&#39;: True,
                           u&#39;textComplete&#39;: False}},
 u&#39;On Prayer and Service&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On Pride and Meekness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On Shame and Shamelessness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False},
                                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False}},
 u&#39;On Silence and Speech&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;On the Law and Wisdom&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                            u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False},
                            u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                     u&#39;availableTexts&#39;: [],
                                     u&#39;completenessPercent&#39;: 0.0,
                                     u&#39;percentAvailable&#39;: 0,
                                     u&#39;percentAvailableInvalid&#39;: True,
                                     u&#39;textComplete&#39;: False}},
 u&#39;Prelude&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False},
              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                       u&#39;availableTexts&#39;: [],
                       u&#39;completenessPercent&#39;: 0.0,
                       u&#39;percentAvailable&#39;: 0,
                       u&#39;percentAvailableInvalid&#39;: True,
                       u&#39;textComplete&#39;: False}}}</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>contents</td>
                    <td class="code"><pre>({u&#39;On Appreciation&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                                 &#39;shape&#39;: 8},
                       u&#39;_en&#39;: {u&#39;availableCounts&#39;: [8],
                                u&#39;availableTexts&#39;: [1, 1, 1, 1, 1, 1, 1, 1],
                                u&#39;completenessPercent&#39;: 100.0,
                                u&#39;percentAvailable&#39;: 0,
                                u&#39;percentAvailableInvalid&#39;: True,
                                u&#39;textComplete&#39;: False},
                       u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                u&#39;availableTexts&#39;: [0, 0, 0, 0, 0, 0, 0, 0],
                                u&#39;completenessPercent&#39;: 0.0,
                                u&#39;percentAvailable&#39;: 0,
                                u&#39;percentAvailableInvalid&#39;: True,
                                u&#39;textComplete&#39;: False}},
  u&#39;On Chastity&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1],
                             &#39;shape&#39;: 11},
                   u&#39;_en&#39;: {u&#39;availableCounts&#39;: [11],
                            u&#39;availableTexts&#39;: [1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1,
                                                1],
                            u&#39;completenessPercent&#39;: 100.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False},
                   u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False}},
  u&#39;On Contentment&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1],
                                &#39;shape&#39;: 15},
                      u&#39;_en&#39;: {u&#39;availableCounts&#39;: [15],
                               u&#39;availableTexts&#39;: [1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1,
                                                   1],
                               u&#39;completenessPercent&#39;: 100.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False},
                      u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                               u&#39;availableTexts&#39;: [0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0],
                               u&#39;completenessPercent&#39;: 0.0,
                               u&#39;percentAvailable&#39;: 0,
                               u&#39;percentAvailableInvalid&#39;: True,
                               u&#39;textComplete&#39;: False}},
  u&#39;On Counsel and Secrets&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1],
                                        &#39;shape&#39;: 10},
                              u&#39;_en&#39;: {u&#39;availableCounts&#39;: [10],
                                       u&#39;availableTexts&#39;: [1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1,
                                                           1],
                                       u&#39;completenessPercent&#39;: 100.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False},
                              u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                       u&#39;availableTexts&#39;: [0,
                                                           0,
                                                           0,
                                                           0,
                                                           0,
                                                           0,
                                                           0,
                                                           0,
                                                           0,
                                                           0],
                                       u&#39;completenessPercent&#39;: 0.0,
                                       u&#39;percentAvailable&#39;: 0,
                                       u&#39;percentAvailableInvalid&#39;: True,
                                       u&#39;textComplete&#39;: False}},
  u&#39;On Deliberation and Haste&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False},
                                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False}},
  u&#39;On Desire&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                          u&#39;availableTexts&#39;: [],
                          u&#39;completenessPercent&#39;: 0.0,
                          u&#39;percentAvailable&#39;: 0,
                          u&#39;percentAvailableInvalid&#39;: True,
                          u&#39;textComplete&#39;: False},
                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                          u&#39;availableTexts&#39;: [],
                          u&#39;completenessPercent&#39;: 0.0,
                          u&#39;percentAvailable&#39;: 0,
                          u&#39;percentAvailableInvalid&#39;: True,
                          u&#39;textComplete&#39;: False}},
  u&#39;On Dignity and Dominion&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                               u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                        u&#39;availableTexts&#39;: [],
                                        u&#39;completenessPercent&#39;: 0.0,
                                        u&#39;percentAvailable&#39;: 0,
                                        u&#39;percentAvailableInvalid&#39;: True,
                                        u&#39;textComplete&#39;: False},
                               u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                        u&#39;availableTexts&#39;: [],
                                        u&#39;completenessPercent&#39;: 0.0,
                                        u&#39;percentAvailable&#39;: 0,
                                        u&#39;percentAvailableInvalid&#39;: True,
                                        u&#39;textComplete&#39;: False}},
  u&#39;On Endurance&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                    u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                             u&#39;availableTexts&#39;: [],
                             u&#39;completenessPercent&#39;: 0.0,
                             u&#39;percentAvailable&#39;: 0,
                             u&#39;percentAvailableInvalid&#39;: True,
                             u&#39;textComplete&#39;: False},
                    u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                             u&#39;availableTexts&#39;: [],
                             u&#39;completenessPercent&#39;: 0.0,
                             u&#39;percentAvailable&#39;: 0,
                             u&#39;percentAvailableInvalid&#39;: True,
                             u&#39;textComplete&#39;: False}},
  u&#39;On Fear&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
               u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                        u&#39;availableTexts&#39;: [],
                        u&#39;completenessPercent&#39;: 0.0,
                        u&#39;percentAvailable&#39;: 0,
                        u&#39;percentAvailableInvalid&#39;: True,
                        u&#39;textComplete&#39;: False},
               u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                        u&#39;availableTexts&#39;: [],
                        u&#39;completenessPercent&#39;: 0.0,
                        u&#39;percentAvailable&#39;: 0,
                        u&#39;percentAvailableInvalid&#39;: True,
                        u&#39;textComplete&#39;: False}},
  u&#39;On Humility&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                   u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False},
                   u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False}},
  u&#39;On Industry&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                   u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False},
                   u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                            u&#39;availableTexts&#39;: [],
                            u&#39;completenessPercent&#39;: 0.0,
                            u&#39;percentAvailable&#39;: 0,
                            u&#39;percentAvailableInvalid&#39;: True,
                            u&#39;textComplete&#39;: False}},
  u&#39;On Love and Companionship&#39;: {u&#39;_all&#39;: {u&#39;availableTexts&#39;: [],
                                           u&#39;shape&#39;: 0},
                                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False},
                                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False}},
  u&#39;On Prayer and Service&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
  u&#39;On Pride and Meekness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
  u&#39;On Shame and Shamelessness&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [],
                                            &#39;shape&#39;: 0},
                                  u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                           u&#39;availableTexts&#39;: [],
                                           u&#39;completenessPercent&#39;: 0.0,
                                           u&#39;percentAvailable&#39;: 0,
                                           u&#39;percentAvailableInvalid&#39;: True,
                                           u&#39;textComplete&#39;: False},
                                  u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                           u&#39;availableTexts&#39;: [],
                                           u&#39;completenessPercent&#39;: 0.0,
                                           u&#39;percentAvailable&#39;: 0,
                                           u&#39;percentAvailableInvalid&#39;: True,
                                           u&#39;textComplete&#39;: False}},
  u&#39;On Silence and Speech&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
  u&#39;On Visiting and Its Abuse&#39;: {u&#39;_all&#39;: {u&#39;availableTexts&#39;: [],
                                           u&#39;shape&#39;: 0},
                                 u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False},
                                 u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                          u&#39;availableTexts&#39;: [],
                                          u&#39;completenessPercent&#39;: 0.0,
                                          u&#39;percentAvailable&#39;: 0,
                                          u&#39;percentAvailableInvalid&#39;: True,
                                          u&#39;textComplete&#39;: False}},
  u&#39;On the Law and Wisdom&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
                             u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False},
                             u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                                      u&#39;availableTexts&#39;: [],
                                      u&#39;completenessPercent&#39;: 0.0,
                                      u&#39;percentAvailable&#39;: 0,
                                      u&#39;percentAvailableInvalid&#39;: True,
                                      u&#39;textComplete&#39;: False}},
  u&#39;Prelude&#39;: {u&#39;_all&#39;: {&#39;availableTexts&#39;: [], &#39;shape&#39;: 0},
               u&#39;_en&#39;: {u&#39;availableCounts&#39;: [0],
                        u&#39;availableTexts&#39;: [],
                        u&#39;completenessPercent&#39;: 0.0,
                        u&#39;percentAvailable&#39;: 0,
                        u&#39;percentAvailableInvalid&#39;: True,
                        u&#39;textComplete&#39;: False},
               u&#39;_he&#39;: {u&#39;availableCounts&#39;: [0],
                        u&#39;availableTexts&#39;: [],
                        u&#39;completenessPercent&#39;: 0.0,
                        u&#39;percentAvailable&#39;: 0,
                        u&#39;percentAvailableInvalid&#39;: True,
                        u&#39;textComplete&#39;: False}},
  u&#39;_en&#39;: {u&#39;completenessPercent&#39;: 0.0,
           u&#39;percentAvailable&#39;: 0,
           u&#39;percentAvailableInvalid&#39;: True,
           u&#39;textComplete&#39;: False},
  u&#39;_he&#39;: {u&#39;completenessPercent&#39;: 0.0,
           u&#39;percentAvailable&#39;: 0,
           u&#39;percentAvailableInvalid&#39;: True,
           u&#39;textComplete&#39;: False}},)</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
    </ul>
  </div>
  
  <form action="http://dpaste.com/" name="pasteform" id="pasteform" method="post">

  <div id="pastebinTraceback" class="pastebin">
    <input type="hidden" name="language" value="PythonConsole">
    <input type="hidden" name="title" value="KeyError at /api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets">
    <input type="hidden" name="source" value="Django Dpaste Agent">
    <input type="hidden" name="poster" value="Django">
    <textarea name="content" id="traceback_area" cols="140" rows="25">
Environment:


Request Method: POST
Request URL: http://ste.sefaria.org/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1

Django Version: 1.4.5
Python Version: 2.7.9
Installed Applications:
(&#39;django.contrib.auth&#39;,
 &#39;django.contrib.contenttypes&#39;,
 &#39;django.contrib.sessions&#39;,
 &#39;django.contrib.sites&#39;,
 &#39;django.contrib.messages&#39;,
 &#39;django.contrib.staticfiles&#39;,
 &#39;django.contrib.humanize&#39;,
 &#39;emailusernames&#39;,
 &#39;reader&#39;,
 &#39;sheets&#39;,
 &#39;sefaria.gauth&#39;,
 &#39;captcha&#39;,
 &#39;django_mobile&#39;,
 &#39;django.contrib.admin&#39;,
 &#39;anymail&#39;,
 &#39;webpack_loader&#39;)
Installed Middleware:
(&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,
 &#39;django.middleware.locale.LocaleMiddleware&#39;,
 &#39;django.middleware.common.CommonMiddleware&#39;,
 &#39;django.middleware.csrf.CsrfViewMiddleware&#39;,
 &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,
 &#39;django.contrib.messages.middleware.MessageMiddleware&#39;,
 &#39;django_mobile.middleware.MobileDetectionMiddleware&#39;,
 &#39;django_mobile.middleware.SetFlavourMiddleware&#39;,
 &#39;sefaria.system.middleware.LanguageCookieMiddleware&#39;,
 &#39;sefaria.system.middleware.LanguageSettingsMiddleware&#39;,
 &#39;sefaria.system.middleware.ProfileMiddleware&#39;)


Traceback:
File "/usr/local/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response
  111.                         response = callback(request, *callback_args, **callback_kwargs)
File "/var/www/ste/sefaria/system/decorators.py" in wrapper
  22.             result = func(*args, **kwargs)
File "/usr/local/lib/python2.7/site-packages/django/views/decorators/csrf.py" in wrapped_view
  77.         return view_func(*args, **kwargs)
File "/var/www/ste/reader/views.py" in texts_api
  1490.             count_and_index(oref, chunk.lang, chunk.vtitle, count_after)
File "/var/www/ste/reader/views.py" in count_and_index
  1399.         library.recount_index_in_toc(c_oref.index)
File "/var/www/ste/sefaria/model/text.py" in recount_index_in_toc
  4003.         self.get_toc_tree().update_title(indx, recount=True)
File "/var/www/ste/sefaria/model/category.py" in update_title
  306.             vs.refresh()
File "/var/www/ste/sefaria/model/version_state.py" in refresh
  176.         self.content = self.index.nodes.visit_content(self._content_node_visitor, self.content)
File "/var/www/ste/sefaria/model/schema.py" in visit_content
  1121.                 c = [tree[node.key] for tree in contents]

Exception Type: KeyError at /api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets
Exception Value: u&#39;On Visiting and its Abuse&#39;
</textarea>
  <br><br>
  <input type="submit" value="Share this traceback on a public Web site">
  </div>
</form>
</div>



<div id="requestinfo">
  <h2>Request information</h2>


  <h3 id="get-info">GET</h3>
  
    <table class="req">
      <thead>
        <tr>
          <th>Variable</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        
          <tr>
            <td>count_after</td>
            <td class="code"><pre>u&#39;1&#39;</pre></td>
          </tr>
        
      </tbody>
    </table>
  

  <h3 id="post-info">POST</h3>
  
    <table class="req">
      <thead>
        <tr>
          <th>Variable</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        
          <tr>
            <td>json</td>
            <td class="code"><pre>u&#39;{&quot;text&quot;: [&quot;F&lt;small&gt;EAR&lt;/small&gt; God, and strengthen thyself to serve Him, so that thy resolutions shall establish His glory. Take for thy counsellors and advisers only men who are God-fearing and men of understanding, as it is asid \\&quot;The secret of the Lord is with them that fear Him,\\&quot; to make known unto them the counsel of wisdom and His secret.&quot;, &quot;Take thy friend into thy most secret counsel, but of a thousand choose one. Then turn from thine own unto his advice, provided thy intellect be as clear and serene as his; for thou possibly wilt see only that which meets the eye, whilst he will see the matter from all sides.&quot;, &quot;Choose of thy fellows men of reliance, whose hearts will be closed by the bars thou\&#39;lt place upon them, and whose lips will be sealed by thy bolts, so that thou be not moved nor slip, by reason of any flaw in the construction of thy plans. Before thou dost store thy produce, dost thou not construct round about it a building, and plaister it with plaister?&quot;, &quot;See to it that before thou revealest thy secret to any man, he render his heart as closed as a grave in thy behalf. And if thou dost not settle this matter on mutual terms, why shouldst thou charge thy friend and fellow with guilt? With whom wouldst thou be angry, if thou place thy oil in a broken and shattered vessel with a hole in it?&quot;, &quot;Dost thou desire the reward of thy labour, to be sure of it, so that thy projects result in success? Then beware lest thou introduce thy baser desires into thy secret plans, and that thou fret not thyself on account of the evil. Thus shalt thou ensure success to thy counsels, and mountains (of difficulties) shalt thou render level as the plain and the vale.&quot;, &quot;Guard the entrances of thy heart, and reveal not unto a woman dear to thee the secret which thou hast; for in the day that she becomes sullen she will tell it, and then thy blood will come upon thine own head. But if her heart have but small cause to rejoice (in secrets), what proceeds from her lips will be heard as a defence to thy joy (i.e., she will not disturb it.)&quot;, &quot;When thou openest thy heart unto a man unto whom thou shouldst not reveal things, understand that thou hast thereby made him thy lord and master; thou hast become a slave after having been a freeman, having been entrapped in his net. Beware lest thou send away thy gift into the desert; thou hast no longer power over it to claim it.&quot;, &quot;See, if others entrust thee with their greatest secrets, why shouldst thou expose thy heart\&#39;s defects by foolishly betraying such profound and hidden things? Better suffer the pangs of vomiting in the case of the morsel which thou hast swallowed, than help to bring to light the victim bound in the prison-house.&quot;, &quot;See, when thy friend consults thee, and asks thy advice, owing to his confidence in thee, give him the most loyal and upright counsel possible, as a true Israelite should; this is the kindness and consideration expected of thee. Furthermore, why shouldst thou play the hypocrite with thy tongue? Art thou able to conceal from God what is deep down in thy heart?&quot;, &quot;Fix a suitable spot under the heavens for disclosing thy secret; for why wouldst thou destroy men of uprightness? Understand, that the stones cry out of the wall, and the rafter speaks forth what is in the innermost recesses. Lower, therefore, thy voice when thou givest counsel at eventide, and look about at thy surroundings when thou givest it at morning-dawn.&quot;], &quot;versionTitle&quot;: &quot;Yesod HaYirah&quot;, &quot;versionSource&quot;: &quot;http://primo.nli.org.il/&quot;, &quot;language&quot;: &quot;en&quot;}&#39;</pre></td>
          </tr>
        
          <tr>
            <td>apikey</td>
            <td class="code"><pre>u&#39;kAEw7OKw5IjZIG4lFbrYxpSdu78Jsza67HgR0gRBOdg&#39;</pre></td>
          </tr>
        
      </tbody>
    </table>
  
  <h3 id="files-info">FILES</h3>
  
    <p>No FILES data</p>
  


  <h3 id="cookie-info">COOKIES</h3>
  
    <p>No cookie data</p>
  

  <h3 id="meta-info">META</h3>
  <table class="req">
    <thead>
      <tr>
        <th>Variable</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      
        <tr>
          <td>mod_wsgi.listener_port</td>
          <td class="code"><pre>&#39;8080&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CONTEXT_DOCUMENT_ROOT</td>
          <td class="code"><pre>&#39;/var/www/ste/static/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_SOFTWARE</td>
          <td class="code"><pre>&#39;Apache/2.4.7 (Ubuntu)&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SCRIPT_NAME</td>
          <td class="code"><pre>u&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.enable_sendfile</td>
          <td class="code"><pre>&#39;0&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.handler_script</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_SIGNATURE</td>
          <td class="code"><pre>&#39;&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at ste.sefaria.org Port 80&lt;/address&gt;\n&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REQUEST_METHOD</td>
          <td class="code"><pre>&#39;POST&#39;</pre></td>
        </tr>
      
        <tr>
          <td>PATH_INFO</td>
          <td class="code"><pre>u&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_PROTOCOL</td>
          <td class="code"><pre>&#39;HTTP/1.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>QUERY_STRING</td>
          <td class="code"><pre>&#39;count_after=1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.errors</td>
          <td class="code"><pre>&lt;mod_wsgi.Log object at 0x7fc3abb0da50&gt;</pre></td>
        </tr>
      
        <tr>
          <td>CONTENT_LENGTH</td>
          <td class="code"><pre>&#39;3865&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_USER_AGENT</td>
          <td class="code"><pre>&#39;python-requests/2.18.4&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_NAME</td>
          <td class="code"><pre>&#39;ste.sefaria.org&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REMOTE_ADDR</td>
          <td class="code"><pre>&#39;127.0.0.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.queue_start</td>
          <td class="code"><pre>&#39;1513591934291324&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.request_handler</td>
          <td class="code"><pre>&#39;wsgi-script&#39;</pre></td>
        </tr>
      
        <tr>
          <td>apache.version</td>
          <td class="code"><pre>(2, 4, 7)</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.url_scheme</td>
          <td class="code"><pre>&#39;http&#39;</pre></td>
        </tr>
      
        <tr>
          <td>PATH_TRANSLATED</td>
          <td class="code"><pre>&#39;/var/www/ste/sefaria/wsgi.py/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_PORT</td>
          <td class="code"><pre>&#39;80&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.multiprocess</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_ADDR</td>
          <td class="code"><pre>&#39;127.0.0.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DOCUMENT_ROOT</td>
          <td class="code"><pre>&#39;/var/www/ste/static/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.process_group</td>
          <td class="code"><pre>&#39;ste.sefaria.org&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.daemon_connects</td>
          <td class="code"><pre>&#39;1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SCRIPT_FILENAME</td>
          <td class="code"><pre>&#39;/var/www/ste/sefaria/wsgi.py&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_ADMIN</td>
          <td class="code"><pre>&#39;dev@sefaria.org&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.input</td>
          <td class="code"><pre>&lt;mod_wsgi.Input object at 0x7fc39fe13e40&gt;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_HOST</td>
          <td class="code"><pre>&#39;ste.sefaria.org&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CONTEXT_PREFIX</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.multithread</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.callable_object</td>
          <td class="code"><pre>&#39;application&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_VARNISH</td>
          <td class="code"><pre>&#39;13082316&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.daemon_restarts</td>
          <td class="code"><pre>&#39;0&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REQUEST_URI</td>
          <td class="code"><pre>&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets?count_after=1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_ACCEPT</td>
          <td class="code"><pre>&#39;*/*&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.path_info</td>
          <td class="code"><pre>&#39;/api/texts/Yesod_HaYirah,_On_Counsel_and_Secrets&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.file_wrapper</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.version</td>
          <td class="code"><pre>(1, 0)</pre></td>
        </tr>
      
        <tr>
          <td>GATEWAY_INTERFACE</td>
          <td class="code"><pre>&#39;CGI/1.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_FORWARDED_FOR</td>
          <td class="code"><pre>&#39;141.226.179.26&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.script_name</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REMOTE_PORT</td>
          <td class="code"><pre>&#39;55342&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.listener_host</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REQUEST_SCHEME</td>
          <td class="code"><pre>&#39;http&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.version</td>
          <td class="code"><pre>(4, 4, 21)</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.run_once</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.script_start</td>
          <td class="code"><pre>&#39;1513591934291492&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CONTENT_TYPE</td>
          <td class="code"><pre>&#39;application/x-www-form-urlencoded&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.application_group</td>
          <td class="code"><pre>&#39;ste.sefaria.org|&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.script_reloading</td>
          <td class="code"><pre>&#39;1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.request_start</td>
          <td class="code"><pre>&#39;1513591934291078&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE</td>
          <td class="code"><pre>&#39;lF9AlSqswoXQha4anlgXUCHmLEiHNsre&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_ACCEPT_ENCODING</td>
          <td class="code"><pre>&#39;gzip, deflate&#39;</pre></td>
        </tr>
      
        <tr>
          <td>mod_wsgi.daemon_start</td>
          <td class="code"><pre>&#39;1513591934291451&#39;</pre></td>
        </tr>
      
    </tbody>
  </table>


  <h3 id="settings-info">Settings</h3>
  <h4>Using settings module <code>sefaria.settings</code></h4>
  <table class="req">
    <thead>
      <tr>
        <th>Setting</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      
        <tr>
          <td>SEARCH_INDEX_ON_SAVE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>CLOUDFLARE_TOKEN</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>USE_THOUSAND_SEPARATOR</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_SECURE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_CODE</td>
          <td class="code"><pre>&#39;en&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ROOT_URLCONF</td>
          <td class="code"><pre>&#39;sefaria.urls&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MANAGERS</td>
          <td class="code"><pre>((&#39;Sefaria Developers&#39;, &#39;dev@sefaria.org&#39;),)</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_CHARSET</td>
          <td class="code"><pre>&#39;utf-8&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATIC_ROOT</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ALLOWED_HOSTS</td>
          <td class="code"><pre>[&#39;*&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>MESSAGE_STORAGE</td>
          <td class="code"><pre>&#39;django.contrib.messages.storage.fallback.FallbackStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>RECAPTCHA_PRIVATE_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_SUBJECT_PREFIX</td>
          <td class="code"><pre>&#39;[Django] &#39;</pre></td>
        </tr>
      
        <tr>
          <td>SEND_BROKEN_LINK_EMAILS</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SEARCH_INDEX_NAME</td>
          <td class="code"><pre>&#39;sefaria&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_DATA_PATH</td>
          <td class="code"><pre>&#39;/data/sefaria/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>URL_VALIDATOR_USER_AGENT</td>
          <td class="code"><pre>&#39;Django/1.4.5 (https://www.djangoproject.com)&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_FINDERS</td>
          <td class="code"><pre>(&#39;django.contrib.staticfiles.finders.FileSystemFinder&#39;,
 &#39;django.contrib.staticfiles.finders.AppDirectoriesFinder&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_DOMAIN</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_NAME</td>
          <td class="code"><pre>&#39;sessionid&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ADMIN_FOR</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>TIME_INPUT_FORMATS</td>
          <td class="code"><pre>(&#39;%H:%M:%S&#39;, &#39;%H:%M&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>MAINTENANCE_MESSAGE</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DATABASES</td>
          <td class="code"><pre>{&#39;default&#39;: {&#39;ENGINE&#39;: &#39;django.db.backends.sqlite3&#39;,
             &#39;HOST&#39;: &#39;&#39;,
             &#39;NAME&#39;: &#39;/var/www/ste/data/db.sqlite&#39;,
             &#39;OPTIONS&#39;: {},
             &#39;PASSWORD&#39;: u&#39;********************&#39;,
             &#39;PORT&#39;: &#39;&#39;,
             &#39;TEST_CHARSET&#39;: None,
             &#39;TEST_COLLATION&#39;: None,
             &#39;TEST_MIRROR&#39;: None,
             &#39;TEST_NAME&#39;: None,
             &#39;TIME_ZONE&#39;: &#39;UTC&#39;,
             &#39;USER&#39;: &#39;&#39;}}</pre></td>
        </tr>
      
        <tr>
          <td>RECAPTCHA_PUBLIC_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_PERMISSIONS</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_HANDLERS</td>
          <td class="code"><pre>(&#39;django.core.files.uploadhandler.MemoryFileUploadHandler&#39;,
 &#39;django.core.files.uploadhandler.TemporaryFileUploadHandler&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_CONTENT_TYPE</td>
          <td class="code"><pre>&#39;text/html&#39;</pre></td>
        </tr>
      
        <tr>
          <td>APPEND_SLASH</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>FIRST_DAY_OF_WEEK</td>
          <td class="code"><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>DATABASE_ROUTERS</td>
          <td class="code"><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_BOT_API_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>YEAR_MONTH_FORMAT</td>
          <td class="code"><pre>&#39;F Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REDIRECTABLE_DOMAIN_LANGUAGES</td>
          <td class="code"><pre>{}</pre></td>
        </tr>
      
        <tr>
          <td>CACHES</td>
          <td class="code"><pre>{&#39;default&#39;: {&#39;BACKEND&#39;: &#39;redis_cache.cache.RedisCache&#39;,
             &#39;LOCATION&#39;: &#39;127.0.0.1:6379:4&#39;,
             &#39;OPTIONS&#39;: {&#39;CLIENT_CLASS&#39;: &#39;redis_cache.client.DefaultClient&#39;,
                         u&#39;COMPRESS_COMPRESSOR&#39;: &lt;built-in function compress&gt;,
                         u&#39;COMPRESS_DECOMPRESSOR&#39;: &lt;built-in function decompress&gt;,
                         u&#39;COMPRESS_DECOMPRESSOR_ERROR&#39;: &lt;class &#39;zlib.error&#39;&gt;},
             &#39;TIMEOUT&#39;: 2592000}}</pre></td>
        </tr>
      
        <tr>
          <td>NODE_HOST</td>
          <td class="code"><pre>&#39;http://localhost:4040&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_EMAIL</td>
          <td class="code"><pre>&#39;root@localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_PATH</td>
          <td class="code"><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MIDDLEWARE_CLASSES</td>
          <td class="code"><pre>(&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,
 &#39;django.middleware.locale.LocaleMiddleware&#39;,
 &#39;django.middleware.common.CommonMiddleware&#39;,
 &#39;django.middleware.csrf.CsrfViewMiddleware&#39;,
 &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,
 &#39;django.contrib.messages.middleware.MessageMiddleware&#39;,
 &#39;django_mobile.middleware.MobileDetectionMiddleware&#39;,
 &#39;django_mobile.middleware.SetFlavourMiddleware&#39;,
 &#39;sefaria.system.middleware.LanguageCookieMiddleware&#39;,
 &#39;sefaria.system.middleware.LanguageSettingsMiddleware&#39;,
 &#39;sefaria.system.middleware.ProfileMiddleware&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>USE_I18N</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>THOUSAND_SEPARATOR</td>
          <td class="code"><pre>&#39;,&#39;</pre></td>
        </tr>
      
        <tr>
          <td>OFFLINE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_COOKIE_NAME</td>
          <td class="code"><pre>&#39;django_language&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_INDEX_TABLESPACE</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MIXPANEL_CODE</td>
          <td class="code"><pre>&#39;you mixpanel code here&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TRANSACTIONS_MANAGED</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>LOGGING_CONFIG</td>
          <td class="code"><pre>&#39;django.utils.log.dictConfig&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_LOADERS</td>
          <td class="code"><pre>(&#39;django_mobile.loader.Loader&#39;,
 &#39;django.template.loaders.filesystem.Loader&#39;,
 &#39;django.template.loaders.app_directories.Loader&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>WSGI_APPLICATION</td>
          <td class="code"><pre>&#39;sefaria.wsgi.application&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SETTINGS_MODULE</td>
          <td class="code"><pre>&#39;sefaria.settings&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_DEBUG</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>X_FRAME_OPTIONS</td>
          <td class="code"><pre>&#39;SAMEORIGIN&#39;</pre></td>
        </tr>
      
        <tr>
          <td>AUTHENTICATION_BACKENDS</td>
          <td class="code"><pre>(&#39;emailusernames.backends.EmailAuthBackend&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST_PASSWORD</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>USE_X_FORWARDED_HOST</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>USE_ETAGS</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>USE_L10N</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SIGNING_BACKEND</td>
          <td class="code"><pre>&#39;django.core.signing.TimestampSigner&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_SECURE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_DB_USER</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>USE_VARNISH</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_DOMAIN</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>FILE_CHARSET</td>
          <td class="code"><pre>&#39;utf-8&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEBUG</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_FILE_PATH</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_FILE_STORAGE</td>
          <td class="code"><pre>&#39;django.core.files.storage.FileSystemStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>INSTALLED_APPS</td>
          <td class="code"><pre>(&#39;django.contrib.auth&#39;,
 &#39;django.contrib.contenttypes&#39;,
 &#39;django.contrib.sessions&#39;,
 &#39;django.contrib.sites&#39;,
 &#39;django.contrib.messages&#39;,
 &#39;django.contrib.staticfiles&#39;,
 &#39;django.contrib.humanize&#39;,
 &#39;emailusernames&#39;,
 &#39;reader&#39;,
 &#39;sheets&#39;,
 &#39;sefaria.gauth&#39;,
 &#39;captcha&#39;,
 &#39;django_mobile&#39;,
 &#39;django.contrib.admin&#39;,
 &#39;anymail&#39;,
 &#39;webpack_loader&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGES</td>
          <td class="code"><pre>((&#39;en&#39;, &lt;django.utils.functional.__proxy__ object at 0x7fc3bd47c650&gt;),
 (&#39;he&#39;, &lt;django.utils.functional.__proxy__ object at 0x7fc3bd47c690&gt;))</pre></td>
        </tr>
      
        <tr>
          <td>GLOBAL_WARNING</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>COMMENTS_ALLOW_PROFANITIES</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_DIRS</td>
          <td class="code"><pre>(&#39;/var/www/ste/static/&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>PREPEND_WWW</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_PROXY_SSL_HEADER</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>NATIONBUILDER_SLUG</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_HTTPONLY</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>DEBUG_PROPAGATE_EXCEPTIONS</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>GOOGLE_ANALYTICS_CODE</td>
          <td class="code"><pre>&#39;UA-24447636-5&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MONTH_DAY_FORMAT</td>
          <td class="code"><pre>&#39;F j&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGIN_URL</td>
          <td class="code"><pre>&#39;/login&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_EXPIRE_AT_BROWSER_CLOSE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>NATIONBUILDER_CLIENT_ID</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TIME_FORMAT</td>
          <td class="code"><pre>&#39;P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DOWN_FOR_MAINTENANCE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DATE_INPUT_FORMATS</td>
          <td class="code"><pre>(&#39;%Y-%m-%d&#39;,
 &#39;%m/%d/%Y&#39;,
 &#39;%m/%d/%y&#39;,
 &#39;%b %d %Y&#39;,
 &#39;%b %d, %Y&#39;,
 &#39;%d %b %Y&#39;,
 &#39;%d %b, %Y&#39;,
 &#39;%B %d %Y&#39;,
 &#39;%B %d, %Y&#39;,
 &#39;%d %B %Y&#39;,
 &#39;%d %B, %Y&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_NAME</td>
          <td class="code"><pre>&#39;csrftoken&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FORCE_SCRIPT_NAME</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>PASSWORD_RESET_TIMEOUT_DAYS</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_ALIAS</td>
          <td class="code"><pre>&#39;default&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_SAVE_EVERY_REQUEST</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_STORAGE</td>
          <td class="code"><pre>&#39;django.contrib.staticfiles.storage.StaticFilesStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>NUMBER_GROUPING</td>
          <td class="code"><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_ENGINE</td>
          <td class="code"><pre>&#39;django.contrib.sessions.backends.db&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_FAILURE_VIEW</td>
          <td class="code"><pre>&#39;django.views.csrf.csrf_failure&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_PATH</td>
          <td class="code"><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGIN_REDIRECT_URL</td>
          <td class="code"><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_DB_PASSWORD</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGGING</td>
          <td class="code"><pre>{&#39;disable_existing_loggers&#39;: False,
 &#39;filters&#39;: {&#39;exclude_errors&#39;: {&#39;()&#39;: &#39;sefaria.utils.log.ErrorTypeFilter&#39;,
                                &#39;error_types&#39;: [&#39;BookNameError&#39;],
                                &#39;exclude&#39;: True},
             &#39;filter_book_name_errors&#39;: {&#39;()&#39;: &#39;sefaria.utils.log.ErrorTypeFilter&#39;,
                                         &#39;error_types&#39;: [&#39;BookNameError&#39;,
                                                         &#39;InputError&#39;],
                                         &#39;exclude&#39;: False},
             &#39;require_debug_false&#39;: {&#39;()&#39;: &#39;django.utils.log.RequireDebugFalse&#39;},
             &#39;require_debug_true&#39;: {&#39;()&#39;: &#39;sefaria.utils.log.RequireDebugTrue&#39;}},
 &#39;formatters&#39;: {&#39;simple&#39;: {&#39;format&#39;: &#39;%(levelname)s %(message)s&#39;},
                &#39;standard&#39;: {&#39;format&#39;: &#39;%(asctime)s - %(levelname)s %(name)s: %(message)s&#39;},
                &#39;verbose&#39;: {&#39;format&#39;: &#39;%(asctime)s - %(levelname)s: [%(name)s] %(process)d %(thread)d %(message)s&#39;}},
 &#39;handlers&#39;: {&#39;book_name_errors&#39;: {&#39;backupCount&#39;: 20,
                                   &#39;class&#39;: &#39;logging.handlers.RotatingFileHandler&#39;,
                                   &#39;filename&#39;: &#39;/var/www/ste/sefaria/../log/sefaria_book_errors.log&#39;,
                                   &#39;filters&#39;: [&#39;filter_book_name_errors&#39;],
                                   &#39;formatter&#39;: &#39;verbose&#39;,
                                   &#39;level&#39;: &#39;ERROR&#39;,
                                   &#39;maxBytes&#39;: 5242880},
              &#39;cloudflare_response_handler&#39;: {&#39;backupCount&#39;: 20,
                                              &#39;class&#39;: &#39;logging.handlers.RotatingFileHandler&#39;,
                                              &#39;filename&#39;: &#39;/var/www/ste/sefaria/../log/cloudflare.log&#39;,
                                              &#39;formatter&#39;: &#39;standard&#39;,
                                              &#39;level&#39;: &#39;INFO&#39;,
                                              &#39;maxBytes&#39;: 5242880},
              &#39;default&#39;: {&#39;backupCount&#39;: 20,
                          &#39;class&#39;: &#39;logging.handlers.RotatingFileHandler&#39;,
                          &#39;filename&#39;: &#39;/var/www/ste/sefaria/../log/sefaria.log&#39;,
                          &#39;filters&#39;: [&#39;exclude_errors&#39;],
                          &#39;formatter&#39;: &#39;verbose&#39;,
                          &#39;level&#39;: &#39;WARNING&#39;,
                          &#39;maxBytes&#39;: 5242880},
              &#39;mail_admins&#39;: {&#39;class&#39;: &#39;django.utils.log.AdminEmailHandler&#39;,
                              &#39;filters&#39;: [&#39;require_debug_false&#39;],
                              &#39;level&#39;: &#39;ERROR&#39;},
              &#39;null&#39;: {&#39;class&#39;: &#39;django.utils.log.NullHandler&#39;,
                       &#39;level&#39;: &#39;INFO&#39;},
              &#39;request_handler&#39;: {&#39;backupCount&#39;: 20,
                                  &#39;class&#39;: &#39;logging.handlers.RotatingFileHandler&#39;,
                                  &#39;filename&#39;: &#39;/var/www/ste/sefaria/../log/django_request.log&#39;,
                                  &#39;formatter&#39;: &#39;standard&#39;,
                                  &#39;level&#39;: &#39;WARNING&#39;,
                                  &#39;maxBytes&#39;: 5242880}},
 &#39;loggers&#39;: {&#39;&#39;: {&#39;handlers&#39;: [&#39;default&#39;, &#39;book_name_errors&#39;],
                  &#39;level&#39;: &#39;INFO&#39;,
                  &#39;propagate&#39;: True},
             &#39;cloudflare&#39;: {&#39;handlers&#39;: [&#39;cloudflare_response_handler&#39;],
                            &#39;level&#39;: &#39;INFO&#39;,
                            &#39;propagate&#39;: True},
             &#39;django&#39;: {&#39;handlers&#39;: [&#39;null&#39;],
                        &#39;level&#39;: &#39;INFO&#39;,
                        &#39;propagate&#39;: False},
             &#39;django.request&#39;: {&#39;handlers&#39;: [&#39;mail_admins&#39;,
                                             &#39;request_handler&#39;],
                                &#39;level&#39;: &#39;INFO&#39;,
                                &#39;propagate&#39;: True}},
 &#39;version&#39;: 1}</pre></td>
        </tr>
      
        <tr>
          <td>IGNORABLE_404_URLS</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>S3_BUCKET</td>
          <td class="code"><pre>&#39;sefaria-user-content-test&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOCALE_PATHS</td>
          <td class="code"><pre>(&#39;/var/www/ste/sefaria/../locale&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>GLOBAL_INTERRUPTING_MESSAGE</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>PASSWORD_HASHERS</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_STRING_IF_INVALID</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGOUT_URL</td>
          <td class="code"><pre>&#39;/accounts/logout/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_USE_TLS</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_DIRS</td>
          <td class="code"><pre>(&#39;/var/www/ste/templates/&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>USE_CLOUDFLARE</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>FIXTURE_DIRS</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST</td>
          <td class="code"><pre>&#39;localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DATE_FORMAT</td>
          <td class="code"><pre>&#39;N j, Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>NATIONBUILDER_CLIENT_SECRET</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MEDIA_ROOT</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DISABLE_INDEX_SAVE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_EXCEPTION_REPORTER_FILTER</td>
          <td class="code"><pre>&#39;django.views.debug.SafeExceptionReporterFilter&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ADMINS</td>
          <td class="code"><pre>((&#39;Sefaria Developers&#39;, &#39;dev@sefaria.org&#39;),)</pre></td>
        </tr>
      
        <tr>
          <td>FORMAT_MODULE_PATH</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_FROM_EMAIL</td>
          <td class="code"><pre>&#39;webmaster@localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SEARCH_ADMIN</td>
          <td class="code"><pre>&#39;http://localhost:9200&#39;</pre></td>
        </tr>
      
        <tr>
          <td>GLOBAL_WARNING_MESSAGE</td>
          <td class="code"><pre>&#39;Sefaria is currently in &lt;b&gt;Read Only&lt;/b&gt; mode for scheduled maintaince. Edits will &lt;b&gt;NOT&lt;/b&gt; currently be saved. We expect to be back to normal within 1 hour.&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MEDIA_URL</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DATETIME_FORMAT</td>
          <td class="code"><pre>&#39;N j, Y, P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>NODE_TIMEOUT</td>
          <td class="code"><pre>10</pre></td>
        </tr>
      
        <tr>
          <td>NODE_TIMEOUT_MONITOR</td>
          <td class="code"><pre>&#39;/var/www/ste/sefaria/../log/forever/timeout/timeouts&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SITE_ID</td>
          <td class="code"><pre>1</pre></td>
        </tr>
      
        <tr>
          <td>DISALLOWED_USER_AGENTS</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>ALLOWED_INCLUDE_ROOTS</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>USE_NODE</td>
          <td class="code"><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DECIMAL_SEPARATOR</td>
          <td class="code"><pre>&#39;.&#39;</pre></td>
        </tr>
      
        <tr>
          <td>NATIONBUILDER_TOKEN</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SHORT_DATE_FORMAT</td>
          <td class="code"><pre>&#39;m/d/Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECRET_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>AWS_SECRET_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>NATIONBUILDER</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>CLOUDFLARE_EMAIL</td>
          <td class="code"><pre>&#39;brett@sefaria.org&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEST_RUNNER</td>
          <td class="code"><pre>&#39;django.test.simple.DjangoTestSuiteRunner&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_KEY_PREFIX</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TIME_ZONE</td>
          <td class="code"><pre>&#39;America/Vancouver&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_MAX_MEMORY_SIZE</td>
          <td class="code"><pre>2621440</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_BACKEND</td>
          <td class="code"><pre>&#39;django.core.mail.backends.smtp.EmailBackend&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_TABLESPACE</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_CONTEXT_PROCESSORS</td>
          <td class="code"><pre>(&#39;django.contrib.auth.context_processors.auth&#39;,
 &#39;django.core.context_processors.debug&#39;,
 &#39;django.core.context_processors.i18n&#39;,
 &#39;django.core.context_processors.media&#39;,
 &#39;django.core.context_processors.static&#39;,
 &#39;django.core.context_processors.tz&#39;,
 &#39;django.contrib.messages.context_processors.messages&#39;,
 &#39;django.core.context_processors.request&#39;,
 &#39;django_mobile.context_processors.flavour&#39;,
 &#39;sefaria.system.context_processors.global_settings&#39;,
 &#39;sefaria.system.context_processors.titles_json&#39;,
 &#39;sefaria.system.context_processors.toc&#39;,
 &#39;sefaria.system.context_processors.terms&#39;,
 &#39;sefaria.system.context_processors.embed_page&#39;,
 &#39;sefaria.system.context_processors.user_and_notifications&#39;,
 &#39;sefaria.system.context_processors.calendar_links&#39;,
 &#39;sefaria.system.context_processors.header_html&#39;,
 &#39;sefaria.system.context_processors.footer_html&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_AGE</td>
          <td class="code"><pre>1209600</pre></td>
        </tr>
      
        <tr>
          <td>DOMAIN_LANGUAGES</td>
          <td class="code"><pre>{}</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_EXPORT_PATH</td>
          <td class="code"><pre>&#39;/var/www/ste/data/export&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGES_BIDI</td>
          <td class="code"><pre>(&#39;he&#39;, &#39;ar&#39;, &#39;fa&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_TEMP_DIR</td>
          <td class="code"><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>INTERNAL_IPS</td>
          <td class="code"><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>STATIC_URL</td>
          <td class="code"><pre>&#39;/static/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CLOUDFLARE_ZONE</td>
          <td class="code"><pre>&#39;8eb325b542dbbf57ea1e4ef2d7f11b30&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_PORT</td>
          <td class="code"><pre>1025</pre></td>
        </tr>
      
        <tr>
          <td>USE_TZ</td>
          <td class="code"><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SHORT_DATETIME_FORMAT</td>
          <td class="code"><pre>&#39;m/d/Y P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>AWS_ACCESS_KEY</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ABSOLUTE_URL_OVERRIDES</td>
          <td class="code"><pre>{}</pre></td>
        </tr>
      
        <tr>
          <td>WEBPACK_LOADER</td>
          <td class="code"><pre>{&#39;DEFAULT&#39;: {&#39;BUNDLE_DIR_NAME&#39;: &#39;bundles/client/&#39;,
             &#39;CACHE&#39;: False,
             &#39;POLL_INTERVAL&#39;: 0.1,
             &#39;STATS_FILE&#39;: &#39;/var/www/ste/sefaria/../node/webpack-stats.client.json&#39;,
             &#39;TIMEOUT&#39;: None},
 &#39;SEFARIA_JS&#39;: {&#39;BUNDLE_DIR_NAME&#39;: &#39;bundles/sefaria/&#39;,
                &#39;CACHE&#39;: False,
                &#39;POLL_INTERVAL&#39;: 0.1,
                &#39;STATS_FILE&#39;: &#39;/var/www/ste/sefaria/../node/webpack-stats.sefaria.json&#39;,
                &#39;TIMEOUT&#39;: None}}</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_SECONDS</td>
          <td class="code"><pre>600</pre></td>
        </tr>
      
        <tr>
          <td>SEFARIA_DB</td>
          <td class="code"><pre>&#39;sefaria_ste&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DATETIME_INPUT_FORMATS</td>
          <td class="code"><pre>(&#39;%Y-%m-%d %H:%M:%S&#39;,
 &#39;%Y-%m-%d %H:%M:%S.%f&#39;,
 &#39;%Y-%m-%d %H:%M&#39;,
 &#39;%Y-%m-%d&#39;,
 &#39;%m/%d/%Y %H:%M:%S&#39;,
 &#39;%m/%d/%Y %H:%M:%S.%f&#39;,
 &#39;%m/%d/%Y %H:%M&#39;,
 &#39;%m/%d/%Y&#39;,
 &#39;%m/%d/%y %H:%M:%S&#39;,
 &#39;%m/%d/%y %H:%M:%S.%f&#39;,
 &#39;%m/%d/%y %H:%M&#39;,
 &#39;%m/%d/%y&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>MONGO_HOST</td>
          <td class="code"><pre>&#39;localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SEARCH_HOST</td>
          <td class="code"><pre>&#39;http://search.sefaria.org:788&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST_USER</td>
          <td class="code"><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>PROFANITIES_LIST</td>
          <td class="code"><pre>u&#39;********************&#39;</pre></td>
        </tr>
      
    </tbody>
  </table>

</div>

  <div id="explanation">
    <p>
      You're seeing this error because you have <code>DEBUG = True</code> in your
      Django settings file. Change that to <code>False</code>, and Django will
      display a standard 500 page.
    </p>
  </div>

</body>
</html>
